import{a as u}from"../../chunk-UIK76GEC.js";import{d as o}from"../../chunk-VTHP63GR.js";import{a as r,b as a,c,d as m}from"../../chunk-AZRE2GJD.js";import{c as s}from"../../chunk-WSRL3A7G.js";var i=class{node=null;titleElem=null;nameLabelElem=null;passwordLabelElem=null;signInBtn=null;signUpBtn=null;cancelBtn=null;authService=null;signInBtnClickHandler;cancelBtnClickHandler;formSubmitHandler;static get instance(){return i.page||(i.page=new i),i.page}constructor(){this.formSubmitHandler=t=>{t.preventDefault();let n=this.node?.querySelector(".main-card form"),l=new FormData(n);console.log("Form submited: ");for(let e of l.entries())console.log(e[0]+":",e[1])},this.signInBtnClickHandler=t=>r(t,this.signInBtn),this.cancelBtnClickHandler=t=>r(t,this.cancelBtn)}get elem(){return this.node}async init(t,n){let l=await a(t,n,[]);this.node=l.querySelector('[data-page="signup-page"]')||null;let e=this.node?.querySelector(".main-card form");return this.titleElem=this.node?.querySelector('[data-title="main"]')||null,this.nameLabelElem=e?.querySelector("#name-label")||null,this.passwordLabelElem=e?.querySelector("#password-label")||null,this.signInBtn=e?.querySelector('[data-button="sign-in"]')||null,this.signUpBtn=e?.querySelector('[data-button="sign-up"]')||null,this.cancelBtn=e?.querySelector('[data-button="cancel"]')||null,this.authService=new u,await this.authService.init(this,n),l}async mount(){this.node?.querySelector(".main-card form")?.addEventListener("submit",this.formSubmitHandler),this.signInBtn?.addEventListener("click",this.signInBtnClickHandler),this.cancelBtn?.addEventListener("click",this.cancelBtnClickHandler),await c(this.node)}async unmount(){this.node?.querySelector(".main-card form")?.removeEventListener("submit",this.formSubmitHandler),this.signInBtn?.removeEventListener("click",this.signInBtnClickHandler),this.cancelBtn?.removeEventListener("click",this.cancelBtnClickHandler),await m(this.node)}async load(t,n,l){this.titleElem&&(this.titleElem.textContent=window.tr("Sign Up")),this.nameLabelElem&&(this.nameLabelElem.textContent=window.tr("Name")),this.passwordLabelElem&&(this.passwordLabelElem.textContent=window.tr("Password")),this.signInBtn&&(this.signInBtn.textContent=window.tr("Sign In")),this.signUpBtn&&(this.signUpBtn.textContent=window.tr("Sign Up")),this.cancelBtn&&(this.cancelBtn.textContent=window.tr("Cancel")),this.signInBtn?.setAttribute("href",(t===o?"":`/${t}`)+"/sign-in"),this.cancelBtn?.setAttribute("href",(t===o?"":`/${t}`)+"/"),await this.authService?.load?.(t,n,l)}},d=i;s(d,"page",null);export{d as SignUpPage};
