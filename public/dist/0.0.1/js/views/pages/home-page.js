import{a as s,b as d,c as n}from"../../chunk-DURSSFQP.js";import{b as a,c as i,d as c}from"../../chunk-AZRE2GJD.js";import{c as r}from"../../chunk-WSRL3A7G.js";var t=class{node=null;scrollTopBtn=null;scrollTopBtnClickHandler;windowScrollHandler;currScroll=0;static get instance(){return t.page||(t.page=new t),t.page}constructor(){this.scrollTopBtnClickHandler=()=>{window.layouts["main-layout"]?.performAction?.(s,null)},this.windowScrollHandler=o=>{let l=o.detail;l.currScroll<=0?this.scrollTopBtn?.classList.add("btn-exited"):this.scrollTopBtn?.classList.remove("btn-exited"),this.currScroll=l.currScroll}}get elem(){return this.node}async init(o,l){let e=await a(o,l,["main-layout"]);return this.node=e.querySelector('[data-page="home-page"]')||null,this.scrollTopBtn=this.node?.querySelector('[data-button="scroll-top"]')||null,e}async mount(){this.scrollTopBtn?.addEventListener("click",this.scrollTopBtnClickHandler),window.layouts["main-layout"]?.listen?.(n,this.windowScrollHandler),await i(this.node)}async unmount(){this.scrollTopBtn?.removeEventListener("click",this.scrollTopBtnClickHandler),window.layouts["main-layout"]?.unlisten?.(n,this.windowScrollHandler),await c(this.node)}async load(o,l,e){window.layouts["main-layout"]?.performAction?.(d,{top:this.currScroll,noSmooth:!0})}},u=t;r(u,"page",null);export{u as HomePage};
